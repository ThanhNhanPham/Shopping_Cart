jQuery(function(o){o("form.variations_form").on("change",".variations select",function(){var e=o("input.variation_id").val(),t=o(this).closest("form.variations_form").data("product_id"),i=o(".woocommerce-product-gallery"),r=o(".woocommerce-product-gallery__image"),c=r.outerWidth(),n=r.outerHeight();i.css("opacity","0.3"),o.ajax({url:th_variable_gallery.ajax_url,type:"POST",data:{action:"load_variation_gallery",variation_id:e,product_id:t,nonce:th_variable_gallery.nonce},success:function(e){i.css("opacity","1");var t=i.parent();i.remove(),t.prepend(e.data.images),r.width(c).height(n),o(".woocommerce-product-gallery__wrapper").height(n),o(".woocommerce-product-gallery").each(function(){o(this).wc_product_gallery()}),"verticalslide"==th_variable_gallery.open_shop_single_product_slider_type&&o(".flex-control-thumbs").slick({infinite:!0,slidesToShow:5,slidesToScroll:1,speed:900,vertical:!0,verticalSwiping:!0,infinite:!1,arrows:!0,prevArrow:'<button type="button" class="slick-prev th-icon th-icon-angle-left"></button>',nextArrow:'<button type="button" class="slick-next th-icon th-icon-angle-right"></button>',responsive:[{breakpoint:767,settings:{vertical:!1,verticalSwiping:!1}}]})},error:function(){}})})}),jQuery(document).ready(function(o){setInterval(function(){o(".woocommerce-product-gallery__image.video.flex-active-slide").length>0?o(".woocommerce-product-gallery__trigger").hide():o(".woocommerce-product-gallery__trigger").show()})}),jQuery(document).ready(function(o){setInterval(function(){o(".woocommerce-product-gallery__wrapper .woocommerce-product-gallery__image").each(function(e){o(this).hasClass("video")&&o(this).closest(".woocommerce-product-gallery").find(".flex-control-nav li").eq(e).addClass("video-thumb")})})}),function(o){o(document).ready(function(){setInterval(function(){o(".flex-control-thumbs").on("click",function(e){o(".woocommerce-product-gallery video")[0].pause()})})}),jQuery(document).on("click",".flex-control-thumbs li",function(){jQuery(this).find("img:not(.flex-active)").trigger("click")}),jQuery(document).ready(function(){jQuery(".th-poster").on("click",function(o){o.preventDefault(),jQuery(this).hide();var e=jQuery(this).siblings("video");e.length>0&&(e.show(),e.get(0).play())})})}(jQuery);